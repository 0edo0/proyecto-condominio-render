{# views/pages/inquilino/mis_pagos.html (Reemplazar completamente) #}
{% extends "pages/inquilino/inquilino_layout.html" %}

{% block inquilino_title %}Mis Pagos{% endblock %}

{% block inquilino_content %}
<h1 class="h2">Mi Historial de Pagos</h1>
<p class="text-muted">Aquí puedes ver todos los pagos de alquiler que has realizado.</p>
<hr>
<div class="card shadow-sm">
    <div class="card-body">
        {% if pagos %}
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Fecha de Pago</th>
                        <th>Mes Cubierto</th>
                        <th>Monto Pagado</th>
                        <th>Método de Pago</th>
                    </tr>
                </thead>
                <tbody>
                    {% for pago in pagos %}
                    <tr>
                        <td>{{ pago.fecha_pago.strftime('%d/%m/%Y') }}</td>
                        <td>{{ pago.mes_correspondiente }}</td>
                        <td>S/ {{ "%.2f"|format(pago.monto_pagado) }}</td>
                        <td>{{ pago.metodo_pago }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div class="alert alert-info">No tienes pagos registrados.</div>
        {% endif %}
    </div>
</div>
{% endblock %}